"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Game=function(){function e(){_classCallCheck(this,e),this.items=document.getElementsByClassName("item"),this.resultsArray=[]}return _createClass(e,[{key:"init",value:function(){var i=this,e=[1,2,3,4,5,6,7,8],t=e.slice(0),r=document.getElementById("game-container"),s=this;r.innerHTML="",e=this.shuffle([].concat(_toConsumableArray(e),_toConsumableArray(t)));for(var n=0;n<16;n++){var a=document.createElement("div"),o=document.createElement("div"),l=document.createElement("div"),c=document.createElement("img");a.classList="item",a.dataset.item=e[n],o.classList="front",l.classList="back",c.src="img/".concat(e[n],".png"),o.appendChild(c),a.appendChild(o),a.appendChild(l),r.appendChild(a)}setTimeout(function(){var e=!0,t=!1,r=void 0;try{for(var n,a=i.items[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){n.value.classList.add("close")}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}_toConsumableArray(i.items).map(function(e){e.onclick=i.click.bind(s)})},2e3)}},{key:"shuffle",value:function(e){for(var t=e.length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[r];e[r]=e[t],e[t]=n}return e}},{key:"click",value:function(e){var t=e.target.parentElement;t.classList.contains("flipped")&&t.classList.contains("correct")||(t.classList.add("flipped"),t.classList.remove("close"),this.resultsArray.push(t.dataset.item)),1<this.resultsArray.length&&(this.resultsArray[0]===this.resultsArray[1]?this.check("correct"):this.check("close"),this.resultsArray=[])}},{key:"check",value:function(t){var r=this,n=document.getElementsByClassName("flipped");setTimeout(function(){for(var e=n.length-1;0<=e;e--)n[e].classList.add(t),n[e].classList.remove("flipped");r.isWin()},500)}},{key:"isWin",value:function(){0==_toConsumableArray(document.getElementsByClassName("item")).filter(function(e){return!e.classList.contains("correct")}).length&&(alert("You Win!!!"),this.init())}}]),e}(),game=new Game;window.onload=game.init();